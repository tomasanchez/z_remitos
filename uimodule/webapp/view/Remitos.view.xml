<mvc:View 
  xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" 
  xmlns:core="sap.ui.core" 
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m" 
  xmlns:layout="sap.ui.layout"
  xmlns:semantic="sap.f.semantic" 
  xmlns:fb="sap.ui.comp.filterbar" 
  xmlns:table="sap.ui.table" 
  id="remitosView" 
  height="100%" 
  controllerName="com.profertil.Remitos.controller.Remitos">
	<semantic:SemanticPage 
    id="mySemanticPage" 
    headerPinnable="false" 
    toggleHeaderOnTitleClick="true" 
    preserveHeaderStateOnScroll="false"
    titleAreaShrinkRatio="1:1.6:1.6" showFooter="{/showFooter}">
		<!-- Title Heading-->
		<semantic:titleHeading>
			<Title id="headerTitle" text="{i18n>remitosTitle}"/>
		</semantic:titleHeading>
		<!-- TitleExpanded content-->
		<semantic:titleSnappedContent>
			<Text id="snappedTitleText" text="{i18n>remitosSubTitle}"/>
		</semantic:titleSnappedContent>
		<!-- TitleSnapped content-->
		<semantic:titleExpandedContent>
			<Text id="snappedTitle" text="{i18n>remitosSubTitle}"/>
		</semantic:titleExpandedContent>
		<!-- Header Content -->
		<semantic:headerContent>
      <!-- Filter Bar -->
      <smartFilterBar:SmartFilterBar 
        id="filterbar" 
        persistencyKey="UniqueAndStablePersistencyKey" 
        considerSelectionVariants="true" 
        entitySet="RemitosSet"
        useDateRangeType="true" 
        deltaVariantMode="false" 
        showFilterConfiguration="false" 
        showRestoreButton="false"
        class="sapUiResponsiveMargin"
        showRestoreOnFB="true">
        <!-- Controls -->
        <smartFilterBar:controlConfiguration>
          <!-- Date Control -->
          <smartFilterBar:ControlConfiguration id="Fecha" key="Fecha" index="0" groupId="_BASIC" conditionType="sap.ui.comp.config.condition.DateRangeType" visibleInAdvancedArea="true"/>
            <!-- Werks Control -->
          <smartFilterBar:ControlConfiguration id="werksCtrl" key="Centro" index="3" label="{i18n>werksSlLabel}" groupId="_BASIC" width="300px" visibleInAdvancedArea="true">
            <smartFilterBar:customControl>
              <ComboBox id="werksCB" showSecondaryValues="true" placeholder="Seleccione un centro de costo" items="{/CentrosSet}">
                <core:ListItem id="werksCB-item" key="{Werks}" text="{Name1}" additionalText="{Werks}"/>
              </ComboBox>
            </smartFilterBar:customControl>
          </smartFilterBar:ControlConfiguration>
        </smartFilterBar:controlConfiguration>
      <!-- layout data used to make the table growing but the filter bar fixed -->
        <smartFilterBar:layoutData>
          <FlexItemData xmlns="sap.m" id="Data" shrinkFactor="0"/>
        </smartFilterBar:layoutData>
      </smartFilterBar:SmartFilterBar>
		</semantic:headerContent>
		<!-- Semantic Content -->
		<semantic:content>
      <VBox id="contentContainer"  fitContainer="true" alignContent="Center" alignItems="Center" class="sapUiNoContentPadding">
        <!-- Smart Table -->
        <sap.ui.comp.smarttable:SmartTable 
        xmlns:sap.ui.comp.smarttable="sap.ui.comp.smarttable" 
        entitySet="RemitosSet" 
        width="100%" 
        direction="Column" 
        fitContainer="true" 
        tableType="ResponsiveTable" 
        header="{i18n>remitosTableTitle}" 
        enableAutoBinding="true" 
        id="RemitosSet"
        smartFilterId="filterbar"
        demandPopin="true"
        ignoreFromPersonalisation="WerksName1,Bztxt"
        ignoredFields="Posnr"
        showFullScreenButton="true"
        beforeRebindTable="onBeforeRebindTable"
        useVariantManagement="false" 
        initiallyVisibleFields="Fecha,Xblnr,Werks,AcNegocio,Entrega,Arktx,Kdmat" 
        justifyContent="Center"
        class="sapUiResponsiveContentPadding"
        alignContent="Center">
          <!-- Custom Data Table -->
          <Table 
            id="smartTableCustom"
            sticky="ColumnHeaders,HeaderToolbar">
            <columns>
              <!-- Custom Date Column -->
              <Column id="FechaCol" width="auto" hAlign="Begin">
                <customData>
                  <core:CustomData 
                    key="p13nData" 
                    value='\{"columnKey": "Fecha", "maxLength": "10","columnIndex":"0", "isCurrency": false, "leadingProperty": "Fecha", "sortProperty": "Fecha", "type": "string"}' />
                </customData>
                <Label id="header-fecha-label" text="{/#Remitos/Fecha/@sap:label}" />
              </Column>
              <!-- Custom Werks Column -->
              <Column id="WerksCol" width="auto" hAlign="End">
                <customData>
                  <core:CustomData 
                    key="p13nData" 
                    value='\{"columnKey": "Werks", "maxLength": "4","columnIndex":"2", "isCurrency": false, "leadingProperty": "Werks", "sortProperty":"Werks", "additionalProperty":"WerksName1", "type": "string"}' />
                </customData>
                <Label id="header-werks-label" text="{/#Remitos/Werks/@sap:label}" />
              </Column>
              <!-- Custom Xblnr -->
              <Column id="XblnrCol" width="auto" hAlign="Center">
                <customData>
                  <core:CustomData
                    key="p13nData"
                    value='\{"columnKey": "Xblnr", "maxLength": "25","columnIndex":"1", "isCurrency": false, "leadingProperty": "Xblnr", "sortProperty": "Xblnr", "type": "string"}' />
                </customData>
                <Label id="header-xblnr-label" text="{/#Remitos/Xblnr/@sap:label}" />
              </Column>
              <!-- Custom Entrega Column -->
              <Column id="EntregaCol" width="auto" hAlign="Center">
                <customData>
                  <core:CustomData
                    key="p13nData"
                    value='\{"columnKey": "Entrega", "maxLength": "10","columnIndex":"4", "isCurrency": false, "leadingProperty": "Entrega", "sortProperty": "Entrega", "type": "string"}' />
                </customData>
                <Label id="header-entrega-label" text="{/#Remitos/Entrega/@sap:label}" />
              </Column>
              <!-- Custom Bzirk -->
              <Column id="Bzirk" width="auto" hAlign="Center">
                <customData>
                  <core:CustomData 
                    key="p13nData" 
                    value='\{"columnKey": "Bzirk", "maxLength": "6","columnIndex":"10", "isCurrency": false, "leadingProperty": "Bzirk", "sortProperty":"Bzirk", "additionalProperty":"Bztxt", "type": "string"}' />
                </customData>
                <Label id="header-bzrik-label" text="{/#Remitos/Bzirk/@sap:label}" />
              </Column>
            </columns>
            <items>
            <!-- Custom Data Cells -->
              <ColumnListItem id="customDataColumnList">
                <cells>
                  <!-- Formatted Date = 'dd/mm/yyyy' -->
                  <Text id="Fecha-field" text="{path:'Fecha', formatter: '.formatter.dateFormat'}"/>
                  <!-- Custom Werks -->
                  <ObjectIdentifier id="Werks-field" title="{Werks}" text="{path: 'WerksName1', formatter:'.formatter.formatTitle'}"/>
                  <!-- Hyperlink to Cross-Application Xblnr -->
                  <ObjectStatus state="Information" id="Xblnr-field"  icon="sap-icon://pdf-attachment" text="{Xblnr}" active="true" press=".onDisplayXlbnr" tooltip="{i18n>displayXblnr} {Xblnr}"/>
                  <!-- Hyperlink to Cross-Application Entrega -->
                  <ObjectStatus state="Information" id="Entrega-field" icon="sap-icon://detail-view" text="{Entrega}"  active="true" press=".onDisplayEntrega" tooltip="{i18n>displayEntrega} {Entrega}"/>
                  <!-- Custom Bzirk -->
                  <Text id="Bzirk-field" text="{Bztxt} ({Bzirk})"/>
                </cells>
              </ColumnListItem>
            </items> 
          </Table>
        </sap.ui.comp.smarttable:SmartTable>    
      </VBox>
		</semantic:content>
	</semantic:SemanticPage>
</mvc:View>